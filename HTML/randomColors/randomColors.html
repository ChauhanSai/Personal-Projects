<!DOCTYPE HTML>

<!-- View HTML: -->
<!-- https://chauhansai.github.io/Script-Projects/HTML/randomColors/randomColors.html -->

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title id="title">Random Colors</title>
		<link rel="stylesheet" href="randomColors.css"/>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Atkinson+Hyperlegible"/>
		<link rel="shortcut icon" type="image/png" href="colorRand_Square.png"/>
	</head>
	<body align="center" style="background-color: rgb(0,0,0)" id="color" onload="load()">
		<header margin="auto">
			<a href="https://twitter.com/colorRand" title="color.Rand() on Twitter" target="_blank"> <img src="colorRand.png" id="logo" height="80vh" alt="colorRand Logo" /> </a>
		</header>
		<article margin="auto">
			<h1><span onclick="generate()" id="hex">Loading... </span> <a onclick="copy(true)" title="Copy Hex to Clipboard"> <svg class="clipboards" height="40px" viewBox="0 0 24 24"> <path fill="#000000" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /> </svg> </a> </h1> 
			<h3><span onclick="generate()" id="rgb">Loading... </span> <a onclick="copy(false)" title="Copy RGB to Clipboard"> <svg class="clipboards" height="20px" viewBox="0 0 24 24"> <path fill="#000000" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /> </svg> </a> </h3> 
			<span onclick="generate()"> Refresh or Click Above to Generate </span> 
			</br><span id="copy" onclick="generate()"> . </span> 
			<noscript><br/><br/> Uh oh, it looks like your broswer doesn't support JavaScript</noscript>
		</article>
		
		<br/> <br/>
		
		<footer>
			<br/>
			<br/><p id="splash"></p>
			<a title="GitHub" href="https://github.com/ChauhanSai/Script-Projects/blob/main/HTML/randomColors/" target="_blank"><img src="https://simpleicons.org/icons/github.svg" class="buttons"id="githubButton"  alt="GitHub"/></a>   
			<a title="Twitter" href="https://twitter.com/colorRand" target="_blank"><img src="https://simpleicons.org/icons/twitter.svg" class="buttons" id="twitterButton" alt="Twitter"/></a>   
			<a id="name" title="Name this color" href="https://colornames.org/color/000000" target="_blank"> <svg class="buttons" id="nameButton" viewBox="0 0 24 24"><path fill="#000000" d="M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" /></svg></a>
			<!-- href="https://colornames.org/search/json/?hex=" -->
			<a id="share" title="Share" onclick="share()"> <svg class="buttons" id="shareButton" viewBox="0 0 24 24"><path fill="#000000" d="M21,12L14,5V9C7,10 4,15 3,20C5.5,16.5 9,14.9 14,14.9V19L21,12Z" /></svg></a>
			<br/>Font can be found <a title="Atkinson Hyperlegible" href="https://fonts.google.com/specimen/Atkinson+Hyperlegible" target="_blank">here</a>
			<!-- <br/><br/> <a href="https://chauhansai.github.io/Script-Projects/HTML/stripesGenerator/stripesGenerator.html"> <img src="stripesGenerator.png" height="50vh"/> </a> -->
	</footer>
		
		<script>
		
			var splashChoice = ['Follow our twitter', 'Join us on twitter', 'Check out how this website works', 'Share this color', 'Name this color', 'Text your friends', 'What would you call this?', 'Like this color?', 'Get daily random colors', 'Beep Boop Bop']
			var buttonChoice = ['twitterButton', 'twitterButton', 'githubButton', 'shareButton', 'nameButton', 'shareButton', 'nameButton', 'shareButton', 'twitterButton', 'githubButton']
			var rand = Math.round(Math.random()*(splashChoice.length-1));
			var splash = splashChoice[rand];
			var button = buttonChoice[rand];
			var gen = 0;
			
			function getParameterByName(name, url = window.location.href) {
				name = name.replace(/[\[\]]/g, '\\$&');
				var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
					results = regex.exec(url);
				if (!results) return null;
				if (!results[2]) return '';
				return decodeURIComponent(results[2].replace(/\+/g, ' '));
			}
			function componentToHex(c) {
			  var hex = c.toString(16);
			  return hex.length == 1 ? "0" + hex : hex;
			}
			function rgbToHex(r, g, b) {
			  return componentToHex(r) + componentToHex(g) + componentToHex(b);
			}
			const hexToRgb = hex =>
			  hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i
						 ,(m, r, g, b) => '#' + r + r + g + g + b + b)
				.substring(1).match(/.{2}/g)
				.map(x => parseInt(x, 16))
					
			function load() {
				var color = getParameterByName('color');
				if(color==null){
					generate();
				} else {
					var rgb = hexToRgb("#"+color);
					setColor(rgb[0], rgb[1], rgb[2]);
				}
				document.getElementById("splash").innerHTML = splash;
				if(document.getElementById(button).style.filter=="invert(100%)"){
					document.getElementById(button).style.filter = "invert(80%)"
				} else {
					document.getElementById(button).style.filter = "invert(30%)"
				}
			}
			
			function generate() {
				
				var color = getParameterByName('color');
				if(color==null){
					var red = Math.round(Math.random()*256);
					var green = Math.round(Math.random()*256);
					var blue = Math.round(Math.random()*256);
					
					setColor(red, green, blue)
				} else {
					window.location.href = window.location.origin + window.location.pathname;
				}
				gen++;
				console.log(gen+" #"+rgbToHex(red,green,blue));
			}
			
			function setColor(red, green, blue){
				document.getElementById("color").style.backgroundColor = "rgb("+red+","+green+","+blue+")";
				document.getElementById("hex").innerHTML = "#"+rgbToHex(red,green,blue);
				document.getElementById("rgb").innerHTML = "rgb("+red+", "+green+", "+blue+")";
				
				document.getElementById("title").innerHTML = "Random Colors (#"+rgbToHex(red,green,blue)+")";
				
				document.getElementById("name").href = "https://colornames.org/color/"+rgbToHex(red,green,blue);
				
				document.getElementById("copy").innerHTML = ".";
				document.getElementById("copy").style.color = "rgb("+red+","+green+","+blue+")";
				
				if(gen>0){
					document.getElementById("splash").innerHTML = ".";
					document.getElementById("splash").style.color = "rgb("+red+","+green+","+blue+")";
				}
				
				theme(red,green,blue);
			}
			
			function share(){
				var title = document.getElementById("hex").innerHTML;
				var url = "https://chauhansai.github.io/Script-Projects/HTML/randomColors/randomColors.html?color="+document.getElementById("hex").innerHTML.substring(1);
				navigator.share({title, url})
			}
			
			function copy(x) {
				if(x) { <!-- Hex -->
					navigator.clipboard.writeText(document.getElementById("hex").innerHTML);
					document.getElementById("copy").innerHTML = "Copied Hex Value";
					document.getElementById("copy").style.color = document.getElementById("color").style.color
					
				} else { <!-- RGB -->
					navigator.clipboard.writeText(document.getElementById("rgb").innerHTML);
					document.getElementById("copy").innerHTML = "Copied RGB Value";
					document.getElementById("copy").style.color = document.getElementById("color").style.color
					
				}
			}
		
			function theme(red,green,blue) {
				let brightness = 0;
				
				if((red+green+blue)/3>125){
					dark();
				} else light();
			}
			
			function dark() {
				document.getElementById("color").style.color = "black";
				document.getElementById("logo").src = "colorRand.png";
				
				var a = document.getElementsByTagName("a");
				for (var i = 0; i < a.length; i++) {
				  a[i].style.color = "black";
				}
				
				var buttons = document.getElementsByClassName("buttons");
				for (var i = 0; i < buttons.length; i++) {
				  buttons[i].style.filter = "invert(0%)";
				}
				
				var clipboards = document.getElementsByClassName("clipboards");
				for (var i = 0; i < clipboards.length; i++) {
				  clipboards[i].style.filter = "invert(0%)";
				}
			}

			function light() {
				document.getElementById("color").style.color = "white";
				document.getElementById("logo").src = "colorRand_Invert.png";
				
				var a = document.getElementsByTagName("a");
				for (var i = 0; i < a.length; i++) {
				  a[i].style.color = "white";
				}
				
				var buttons = document.getElementsByClassName("buttons");
				for (var i = 0; i < buttons.length; i++) {
				  buttons[i].style.filter = "invert(100%)";
				}
				
				var clipboards = document.getElementsByClassName("clipboards");
				for (var i = 0; i < clipboards.length; i++) {
				  clipboards[i].style.filter = "invert(100%)";
				}
			}
			</script>
	</body>
</html>